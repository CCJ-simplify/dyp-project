(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tabs"],{"0e19":function(t,e,a){},"0fc0":function(t,e,a){"use strict";var l=a("3e8a"),i=a.n(l);i.a},"1d36":function(t,e,a){},3154:function(t,e,a){"use strict";var l=a("0e19"),i=a.n(l);i.a},"3a5b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),t._v(" tab选项卡")])],1)],1),a("div",{staticClass:"container"},[a("el-tabs",{model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[a("el-tab-pane",{attrs:{label:"未读消息("+t.unread.length+")",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.unread,"show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"message-title"},[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{prop:"date",width:"180"}}),a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.handleRead(e.$index)}}},[t._v("标为已读")])]}}])})],1),a("div",{staticClass:"handle-row"},[a("el-button",{attrs:{type:"primary"}},[t._v("全部标为已读")])],1)],1),a("el-tab-pane",{attrs:{label:"已读消息("+t.read.length+")",name:"second"}},["second"===t.message?[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.read,"show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"message-title"},[t._v(t._s(e.row.title))])]}}],null,!1,1342692326)}),a("el-table-column",{attrs:{prop:"date",width:"150"}}),a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleDel(e.$index)}}},[t._v("删除")])]}}],null,!1,3531492676)})],1),a("div",{staticClass:"handle-row"},[a("el-button",{attrs:{type:"danger"}},[t._v("删除全部")])],1)]:t._e()],2),a("el-tab-pane",{attrs:{label:"回收站("+t.recycle.length+")",name:"third"}},["third"===t.message?[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.recycle,"show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"message-title"},[t._v(t._s(e.row.title))])]}}],null,!1,1342692326)}),a("el-table-column",{attrs:{prop:"date",width:"150"}}),a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleRestore(e.$index)}}},[t._v("还原")])]}}],null,!1,2505816523)})],1),a("div",{staticClass:"handle-row"},[a("el-button",{attrs:{type:"danger"}},[t._v("清空回收站")])],1)]:t._e()],2)],1)],1)])},i=[],n={name:"tabs",data:function(){return{message:"first",showHeader:!1,unread:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"},{date:"2018-04-19 21:00:00",title:"今晚12点整发大红包，先到先得"}],read:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}],recycle:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}]}},methods:{handleRead:function(t){var e=this.unread.splice(t,1);console.log(e),this.read=e.concat(this.read)},handleDel:function(t){var e=this.read.splice(t,1);this.recycle=e.concat(this.recycle)},handleRestore:function(t){var e=this.recycle.splice(t,1);this.read=e.concat(this.read)}},computed:{unreadNum:function(){return this.unread.length}}},o=n,s=(a("0fc0"),a("2877")),r=Object(s["a"])(o,l,i,!1,null,null,null);e["default"]=r.exports},"3e8a":function(t,e,a){},"4dc6":function(t,e,a){},6836:function(t,e,a){"use strict";var l=a("1d36"),i=a.n(l);i.a},"6a28":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"input"},[a("el-input",{style:{width:"200px"},attrs:{placeholder:"请输入关键字","prefix-icon":"el-icon-search",clearable:""},on:{clear:function(e){return t.loadData()},blur:function(e){return t.loadData()}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:function(e){return t.loadData()},blur:function(e){return t.loadData()},clear:function(e){return t.loadData()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("el-select",{style:{"margin-left":"20px"},attrs:{clearable:"",placeholder:"请选择"},on:{change:function(e){return t.loadData()}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-option",{key:"1",attrs:{label:"VIP用户",value:"1"}},[t._v("\n              VIP用户\n\t\t        ")]),a("el-option",{key:"0",attrs:{label:"普通用户",value:"0"}},[t._v("\n              普通用户\n\t\t        ")])],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:"微信账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.wechatName))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"性别","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"用户类型","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","active-value":"1","inactive-value":"0","inactive-color":"#ff4949"},model:{value:e.row.isVip,callback:function(a){t.$set(e.row,"isVip",a)},expression:"scope.row.isVip"}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.createTime))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"上次登录时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.updateTime))])]}}])}),a("el-table-column",{attrs:{prop:"ip",label:"上次登录IP","show-overflow-tooltip":""}})],1),a("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.tablePageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tablePageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[],n=(a("ac6a"),{data:function(){return{tableData:[],tablePageSize:10,tablePageTotal:0,input3:"",input:"",multipleSelection:[],currentPage:1,status:"",date:[]}},methods:{loadData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.date&&(e=this.date[0]?this.date[0]+" 00:00:00":"",a=this.date[1]?this.date[1]+" 23:59:59":""),this.$GET(this.$API.ADMIN.AdminLoadWechatCustomer,{page:this.currentPage,size:this.tablePageSize,isVip:this.status,name:this.input,startTime:e,endTime:a}).then((function(e){t.tablePageTotal=e.data.total,t.tableData=e.data.details}))},toggleSelection:function(t){var e=this;console.log(t),t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.tablePageSize=t,this.loadData(this.currentPage,t)},handleCurrentChange:function(t){this.currentPage=t,this.loadData(t,tablePageSize)}},mounted:function(){this.loadData()}}),o=n,s=(a("6836"),a("2877")),r=Object(s["a"])(o,l,i,!1,null,"40b4440a",null);e["default"]=r.exports},"74bf":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("div",{staticClass:"input"},[a("el-input",{style:{width:"200px"},attrs:{placeholder:"请输入关键字","prefix-icon":"el-icon-search",clearable:""},on:{clear:function(e){return t.loadData()},blur:function(e){return t.loadData()}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},on:{change:function(e){return t.loadData()},blur:function(e){return t.loadData()},clear:function(e){return t.loadData()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("el-select",{style:{"margin-left":"20px"},attrs:{clearable:"",placeholder:"请选择"},on:{change:function(e){return t.loadData()}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-option",{key:"ACTIVE",attrs:{label:"正常",value:"ACTIVE"}}),a("el-option",{key:"NOT_ACTIVE",attrs:{label:"禁用",value:"NOT_ACTIVE"}})],1)],1),a("div",{staticClass:"table-header"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.add()}}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加客户")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){return t.delAll()}}},[a("i",{staticClass:"el-icon-delete"}),t._v("批删除客户")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%","background-color":"#FFFFFF"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"id",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),a("el-table-column",{attrs:{label:"帐号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.userName))]}}])}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"status",label:"状态","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"ACTIVE"==e.row.status?"success":"danger","disable-transitions":""}},["ACTIVE"==e.row.status?a("span",[t._v("正常")]):t._e(),"NOT_ACTIVE"==e.row.status?a("span",[t._v("禁用")]):t._e()])]}}])}),a("el-table-column",{attrs:{label:"用户类型","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"primary"}},[0==e.row.role?a("span",[t._v("普通客户")]):t._e()])]}}])}),a("el-table-column",{attrs:{label:"上次登录时间",width:"135","show-overflow-tooltip":"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.updateTime))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",width:"135","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.createTime))])]}}])}),a("el-table-column",{attrs:{prop:"ip",label:"上次登录IP","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",fixed:"right","highlight-current-row":"",width:"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return t.edit(e.row)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"电影院信息",placement:"right"}},[a("el-button",{attrs:{type:"success",icon:"el-icon-more",size:"mini"},on:{click:function(a){return t.info(e.row)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"right"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e.row)}}})],1)]}}])})],1),a("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.tablePageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tablePageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.userInfo,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入用户名",maxlength:"20","show-word-limit":"",disabled:t.userInfo.userUpdate},model:{value:t.userInfo.userName,callback:function(e){t.$set(t.userInfo,"userName",e)},expression:"userInfo.userName"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",autocomplete:"off",placeholder:"请输姓名"},model:{value:t.userInfo.name,callback:function(e){t.$set(t.userInfo,"name",e)},expression:"userInfo.name"}})],1),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{type:"phone",autocomplete:"off",placeholder:"请输手机号码"},model:{value:t.userInfo.phone,callback:function(e){t.$set(t.userInfo,"phone",e)},expression:"userInfo.phone"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password",prop:"password","show-password":t.showPassword},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}})],1),a("el-form-item",{attrs:{label:"用户状态"}},[a("el-switch",{model:{value:t.statueTmp,callback:function(e){t.statueTmp=e},expression:"statueTmp"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"电影院信息",visible:t.infoDialog,width:"500px"},on:{"update:visible":function(e){t.infoDialog=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.movieInfo,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"电影院名称"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入电影院名称",maxlength:"20","show-word-limit":""},model:{value:t.movieInfo.name,callback:function(e){t.$set(t.movieInfo,"name",e)},expression:"movieInfo.name"}})],1),a("el-form-item",{attrs:{label:"电影院地址"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输电影院地址"},model:{value:t.movieInfo.address,callback:function(e){t.$set(t.movieInfo,"address",e)},expression:"movieInfo.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.infoDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.infoSubmit}},[t._v("确 定")])],1)],1)],1)},i=[],n=(a("7f7f"),a("ac6a"),{data:function(){var t=this,e=function(e,a,l){""===a?l(new Error("请输入密码")):(""!==t.userInfo.password&&t.$refs.ruleForm.validateField("password2"),l())},a=function(e,a,l){""===a?l(new Error("请再次输入密码")):a!==t.ruleForm.password?l(new Error("两次输入密码不一致!")):l()};return{title:"",tableData:[],tablePageSize:10,tablePageTotal:0,currentPage:1,input:"",loading:!1,status:"",multipleSelection:[],page:1,dialogFormVisible:!1,showPassword:!0,userInfo:{name:"",userName:"",password:"",statueTmp:!1},statueTmp:!1,id:"",movieInfo:{},date:[],ids:[],infoDialog:!1,rules:{pass:[{validator:e,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},methods:{loadData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loading=!0,this.date&&(e=this.date[0]?this.date[0]+" 00:00:00":"",a=this.date[1]?this.date[1]+" 23:59:59":""),this.$GET(this.$API.ADMIN.AdminLoadCustomer,{page:this.page,size:this.tablePageSize,userName:this.input,startTime:e,endTime:a,status:this.status}).then((function(e){t.tablePageTotal=e.data.total,t.tableData=e.data.details,t.loading=!1})).catch((function(e){t.loading=!1}))},filterTag:function(t,e){return e.status==t},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},info:function(t){this.id=t.id,t.info?this.movieInfo=JSON.parse(t.info):this.movieInfo={},this.infoDialog=!0},infoSubmit:function(){var t=this;this.$POST(this.$API.ADMIN.AdminInsertUpdate,{id:this.id,info:JSON.stringify(this.movieInfo)}).then((function(e){t.$message.success("修改成功")})),this.infoDialog=!1,this.loadData()},handleSelectionChange:function(t){this.multipleSelection=t,this.ids=t.map((function(t){return t.id}))},handleSizeChange:function(t){this.loadData(this.page,this.tablePageSize)},handleCurrentChange:function(t){this.page=t,this.loadData(t,this.tablePageSize)},edit:function(t){this.title="修改客户信息",this.dialogFormVisible=!0,this.userInfo=t,this.userInfo.userUpdate=!0,this.statueTmp="ACTIVE"==this.userInfo.status,this.userInfo.roleTmp=0==this.userInfo.role?"普通客户":""},add:function(){this.userInfo={userUpdate:!1,statueTmp:!1},this.title="添加客户",this.dialogFormVisible=!0},del:function(t){var e=this;this.userInfo=t,this.$POST(this.$API.ADMIN.AdminInsertUpdate,{id:this.userInfo.id,deleted:1}).then((function(t){e.$message.success("删除成功"),e.loadData(),e.dialogFormVisible=!1}))},delAll:function(){var t=this;this.ids.forEach((function(e){t.$POST(t.$API.ADMIN.AdminInsertUpdate,{id:e,deleted:1})})),this.$message.success("批量删除成功"),this.loadData()},play:function(t){},submit:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(e){var a={id:t.userInfo.id,status:t.statueTmp?"ACTIVE":"NOT_ACTIVE",deleted:0,role:0,userName:t.userInfo.userName,name:t.userInfo.name,password:t.userInfo.password,phone:t.userInfo.phone};t.$POST(t.$API.ADMIN.AdminInsertUpdate,a).then((function(e){t.$message.success("修改成功"),t.loadData(),t.dialogFormVisible=!1}))}}))}},created:function(){this.loadData()}}),o=n,s=(a("e722"),a("2877")),r=Object(s["a"])(o,l,i,!1,null,"525ab6bc",null);e["default"]=r.exports},"7c83":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("div",{staticClass:"input"},[a("el-input",{style:{width:"200px"},attrs:{placeholder:"请输入关键字","prefix-icon":"el-icon-search",clearable:""},on:{clear:function(e){return t.loadData()},blur:function(e){return t.loadData()}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:function(e){return t.loadData()},blur:function(e){return t.loadData()},clear:function(e){return t.loadData()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%","background-color":"#FFFFFF"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"orderSn",width:"150",align:"center","show-overflow-tooltip":"",label:"订单号"}}),a("el-table-column",{attrs:{prop:"movieName",align:"center","show-overflow-tooltip":"",label:"电影名称"}}),a("el-table-column",{attrs:{align:"center",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"success","show-overflow-tooltip":"",effect:"plain","disable-transitions":""}},[a("span",[t._v(t._s(e.row.num)+"张")])])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",label:"是否为VIP"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","active-value":"1","inactive-value":"0","inactive-color":"#ff4949"},model:{value:e.row.isVip,callback:function(a){t.$set(e.row,"isVip",a)},expression:"scope.row.isVip"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"单价"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"warning","disable-transitions":""}},[a("span",[t._v(t._s(t._f("price")(e.row.price,e.row.price))+" 元")])])]}}])}),a("el-table-column",{attrs:{width:"total",align:"center",label:"总价"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"success",effect:"plain","disable-transitions":""}},[a("span",[t._v(t._s(t._f("price")(e.row.num*e.row.price,e.row.num*e.row.price))+"元")])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"info",effect:"plain","disable-transitions":""}},[a("span",[t._v(t._s(t._f("orderStatus")(e.row.status,e.row.status)))])])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.createTime))])]}}])}),a("el-table-column",{attrs:{label:"更新时间",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.updateTime))])]}}])})],1),a("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.tablePageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tablePageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible,width:"520px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.userInfo,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"电影名称"}},[a("el-select",{style:{"margin-left":"20px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.movieId,callback:function(e){t.movieId=e},expression:"movieId"}},t._l(t.movies,(function(e,l){return a("el-option",{key:l,attrs:{label:e.name,value:e.id}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t")])})),1)],1),a("el-form-item",{attrs:{label:"播放时间"}},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"电影院信息",visible:t.infoDialog,width:"500px"},on:{"update:visible":function(e){t.infoDialog=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.movieInfo,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"电影院名称"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入电影院名称",maxlength:"20","show-word-limit":""},model:{value:t.movieInfo.name,callback:function(e){t.$set(t.movieInfo,"name",e)},expression:"movieInfo.name"}})],1),a("el-form-item",{attrs:{label:"电影院地址"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输电影院地址"},model:{value:t.movieInfo.address,callback:function(e){t.$set(t.movieInfo,"address",e)},expression:"movieInfo.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.infoDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.infoSubmit}},[t._v("确 定")])],1)],1)],1)},i=[],n=(a("ac6a"),a("a481"),{data:function(){return{title:"",addPSpace:!0,tableData:[],tablePageSize:10,tablePageTotal:0,currentPage:1,input:"",movies:[],spaces:[],loading:!1,status:"",multipleSelection:[],page:1,dialogFormVisible:!1,showPassword:!0,userInfo:{name:"",userName:"",password:""},id:"",time:"",spaceId:"",orderSn:"",movieInfo:{},date:"",ids:[],infoDialog:!1,movieId:"",submit:""}},methods:{loadData:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=!0;var e={};this.date&&(e.date=this.date.toLocaleDateString().replace("/","-").replace("/","-")),e.page=this.page,e.size=this.tablePageSize,e.orderSn=this.input,this.$GET(this.$API.ADMIN.AdminInsertQeryOrder,e).then((function(e){t.tablePageTotal=e.data.total,t.tableData=e.data.details,t.loading=!1})).catch((function(e){t.loading=!1}))},filterTag:function(t,e){return e.status==t},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},format:function(t){return JSON.parse(t)},info:function(t){this.id=t.id,t.info?this.movieInfo=JSON.parse(t.info):this.movieInfo={},this.infoDialog=!0},infoSubmit:function(){var t=this;this.$POST(this.$API.ADMIN.AdminInsertUpdate,{id:this.id,info:JSON.stringify(this.movieInfo)}).then((function(e){t.$message.success("修改成功")})),this.infoDialog=!1,this.loadData()},handleSelectionChange:function(t){this.multipleSelection=t,this.ids=t.map((function(t){return t.id}))},handleSizeChange:function(t){this.tablePageSize=t,this.loadData(this.page,t)},handleCurrentChange:function(t){this.page=t,this.loadData(t,this.tablePageSize)},edit:function(t){this.title="修改排场信息",this.dialogFormVisible=!0,this.userInfo=t,this.userInfo.userUpdate=!0,this.userInfo.statueTmp="ACTIVE"==this.userInfo.status,this.userInfo.roleTmp=0==this.userInfo.role?"普通客户":""},add:function(){this.userInfo={userUpdate:!1},this.title="添加排场",this.dialogFormVisible=!0},del:function(t){var e=this;this.userInfo=t,this.$POST(this.$API.ADMIN.AdminInsertUpdate,{id:this.userInfo.id,deleted:1}).then((function(t){e.$message.success("删除成功"),e.loadData(),e.dialogFormVisible=!1}))},delAll:function(){var t=this;this.ids.forEach((function(e){t.$POST(t.$API.ADMIN.AdminInsertUpdate,{id:e,deleted:1})})),this.$message.success("批量删除成功"),this.loadData()},play:function(t){},loadMovie:function(){var t=this;this.$GET(this.$API.ADMIN.AdminLoadMovie,{}).then((function(e){t.movies=e.data}))},loadSpace:function(){var t=this;this.$GET(this.$API.ADMIN.AdminLoadSpace,{}).then((function(e){t.spaces=e.data}))}},created:function(){this.loadMovie(),this.loadData()}}),o=n,s=(a("3154"),a("2877")),r=Object(s["a"])(o,l,i,!1,null,"728b2db6",null);e["default"]=r.exports},e722:function(t,e,a){"use strict";var l=a("4dc6"),i=a.n(l);i.a}}]);